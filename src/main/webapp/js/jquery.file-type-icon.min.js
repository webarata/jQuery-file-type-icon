/*! jQuery.file-type-icon - v0.1.0 - 2015-11-14 */
!function(a){"use strict";var b={initIcon:"init.gif",initIconSize:{width:32,height:32},defaultIcon:"default.png",imageDir:"image/",classPrefix:"fti-",imageSize:{width:32,height:32}},c={},d={pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};a.fn.fileTypeIcon=function(c){var d=a.extend(b,c);e(),d.file&&d.file.type&&(d.type=d.file.type);var h=this;return h.css({width:d.imageSize.width+"px",height:d.imageSize.height+"px",overflow:"hidden"}),h.hasClass(d.classPrefix+"around")||h.addClass(d.classPrefix+"around"),d.initIcon&&f(h,d),g(d).then(function(a){h.empty(),h.append(a)},function(){console.log("reject")}),this};var e=function(){c[d.pdf]="pdf-256.png",c[d.doc]="word-256.png",c[d.docx]="word-256.png",c[d.xls]="excel-256.png",c[d.xlsx]="excel-256.png",c[d.ppt]="powerpoint-256.png",c[d.pptx]="powerpoint-256.png"},f=function(b,c){var d=c.imageSize,e=a('<img src="'+c.imageDir+c.initIcon+'">');if(c.initIconSize.width<=d.width&&c.initIconSize.height<=d.height){var f=(d.height-c.initIconSize.height)/2,g=(d.width-c.initIconSize.width)/2;e.css({position:"relative",top:f+"px",left:g+"px"}),b.empty(),b.append(e)}},g=function(b){var d,e=a.Deferred();if(b.type&&b.type.match(/image\/\w+/))b.file&&(d=h(b));else{var f=c[b.type]?c[b.type]:b.defaultIcon;f&&(d=i(b.imageDir+f,b))}return d?d.then(function(a){e.resolve(a)},function(){e.reject()}):e.reject(),e.promise()},h=function(b){var c=a.Deferred(),d=new FileReader;return d.onloadend=function(){i(d.result,b).then(function(a){c.resolve(a)},function(){c.reject()})},d.onerror=function(){c.reject()},d.readAsDataURL(b.file),c.promise()},i=function(b,c){var d=a.Deferred(),e=new Image,f=a(e);return f.one("load",function(){j(f,e,c),d.resolve(f)}),f.attr("src",b),d.promise()},j=function(a,b,c){var d=c.imageSize,e={width:b.naturalWidth,height:b.naturalHeight},f={width:d.width/e.width,height:d.height/e.height},g="width",h="height";f.width>f.height&&(g="height",h="width"),f[g]>=1&&(f[g]=1);var i,j,k=(d[h]-e[h]*f[g])/2;"height"===h?i=k:j=k;var l=(d[g]-e[g]*f[g])/2;"height"===h?j=l:i=l;var m;if(m=e[g]>d[g]?d[g]:e[g],a.css(g,m),a.css("position","relative"),a.css("top",i+"px"),a.css("left",j+"px"),b.runtimeStyle){var n=b.runtimeStyle;n.width=e.width*f[g]+"px",n.height=e.height*f[g]+"px"}}}(jQuery);
//# sourceMappingURL=jquery.file-type-icon.min.js.map