/*! jQuery.file-type-icon - v0.1.0 - 2015-11-28 */
"undefined"!=typeof require&&($=require("jquery")),function(){"use strict";var a={initIcon:"init.gif",initIconSize:{width:32,height:32},defaultIcon:"default.png",imageDir:"image/",classPrefix:"fti-",imageSize:{width:32,height:32}},b={},c={pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};$.fn.fileTypeIcon=function(b){var c=$.extend(a,b);d(),c.file&&c.file.type&&(c.type=c.file.type);var g=this;return g.css({width:c.imageSize.width+"px",height:c.imageSize.height+"px",overflow:"hidden"}),g.hasClass(c.classPrefix+"around")||g.addClass(c.classPrefix+"around"),c.initIcon&&e(g,c),f(c).then(function(a){g.empty(),g.append(a)},function(){console.log("reject")}),this};var d=function(){b[c.pdf]="pdf-256.png",b[c.doc]="word-256.png",b[c.docx]="word-256.png",b[c.xls]="excel-256.png",b[c.xlsx]="excel-256.png",b[c.ppt]="powerpoint-256.png",b[c.pptx]="powerpoint-256.png"},e=function(a,b){var c=b.imageSize,d=$('<img src="'+b.imageDir+b.initIcon+'">');if(b.initIconSize.width<=c.width&&b.initIconSize.height<=c.height){var e=(c.height-b.initIconSize.height)/2,f=(c.width-b.initIconSize.width)/2;d.css({position:"relative",top:e+"px",left:f+"px"}),a.empty(),a.append(d)}},f=function(a){var c,d=$.Deferred();if(a.type&&a.type.match(/image\/\w+/))a.file&&(c=g(a));else{var e=b[a.type]?b[a.type]:a.defaultIcon;c=h(a.imageDir+e,a)}return c?c.then(function(a){d.resolve(a)},function(){d.reject()}):d.reject(),d.promise()},g=function(a){var b=$.Deferred(),c=new FileReader;return c.onloadend=function(){h(c.result,a).then(function(a){b.resolve(a)},function(){b.reject()})},c.onerror=function(){b.reject()},c.readAsDataURL(a.file),b.promise()},h=function(a,b){var c=$.Deferred(),d=new Image,e=$(d);return e.one("load",function(){i(e,d,b),c.resolve(e)}),e.attr("src",a),c.promise()},i=function(a,b,c){var d=c.imageSize,e={width:b.naturalWidth,height:b.naturalHeight},f={width:d.width/e.width,height:d.height/e.height},g="width",h="height";f.width>f.height&&(g="height",h="width"),f[g]>=1&&(f[g]=1);var i,j,k=(d[h]-e[h]*f[g])/2;"height"===h?i=k:j=k;var l=(d[g]-e[g]*f[g])/2;"height"===h?j=l:i=l;var m;if(m=e[g]>d[g]?d[g]:e[g],a.css(g,m),a.css("position","relative"),a.css("top",i+"px"),a.css("left",j+"px"),b.runtimeStyle){var n=b.runtimeStyle;n.width=e.width*f[g]+"px",n.height=e.height*f[g]+"px"}}}();
//# sourceMappingURL=jquery.file-type-icon.min.js.map